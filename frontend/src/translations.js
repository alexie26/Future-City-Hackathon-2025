export const translations = {
    en: {
        // Hero
        hero_title: 'Electrify Heilbronn',
        hero_subtitle: 'Smart Grid Recommendations for Sustainable Living',

        // InputCard
        input_address: 'Address',
        input_address_placeholder: 'Enter address in Heilbronn...',
        input_searching: 'Searching...',
        input_no_results: 'No addresses found. Try a different search.',
        input_no_heilbronn: 'No results found in Heilbronn area',
        input_search_error: 'Unable to search addresses. Please try again.',
        input_connection_type: 'Connection Type',
        input_consumer: 'Consumer',
        input_consumer_desc: 'EV, Heat Pump',
        input_producer: 'Producer',
        input_producer_desc: 'Solar PV',
        input_power: 'Expected Power (kW)',
        input_power_hint: 'e.g., 11 kW for home EV charger',
        input_power_placeholder: 'e.g. 11, 50, 200',
        input_button: 'Get Eco Recommendations',

        // LayersMenu
        layers_title: 'Voltage Layers',
        layers_lv: 'Low Voltage (LV)',
        layers_mv: 'Medium Voltage (MV)',
        layers_hv: 'High Voltage (HV)',

        // ResultCard
        result_timeline: 'Est. Timeline',
        result_unknown: 'Unknown',
        result_voltage: 'Voltage Level',
        result_low_voltage: 'Low Voltage',
        result_next_steps: 'Next Steps',
        result_contact_support: 'Contact support',
        result_eco_score: 'Eco-Friendliness Score',

        // OverlayMenu
        overlay_loading: 'Analyzing grid capacity...',
        overlay_error: 'Error',
        overlay_chat: 'Chat with AI Assistant',

        // ApplicationModal
        modal_title: 'Grid Connection Application',
        modal_success_title: 'Application Sent!',
        modal_success_message: 'We have received your request and will contact you shortly.',
        modal_address: 'Address',
        modal_power: 'Power',
        modal_name: 'Full Name',
        modal_name_placeholder: 'John Doe',
        modal_email: 'Email',
        modal_email_placeholder: 'john@example.com',
        modal_phone: 'Phone',
        modal_phone_placeholder: '+49 123...',
        modal_comments: 'Comments (Optional)',
        modal_comments_placeholder: 'Any specific details about your project...',
        modal_sending: 'Sending...',
        modal_submit: 'Submit Application',

        // ChatBot
        chat_placeholder: 'Ask me anything...',
        chat_send: 'Send message',
        chat_helper: 'Ask about timeline, costs, documents, or next steps',
        chat_apply_now: 'Apply Now',
        chat_green_suggestions: 'Green Suggestions',
        chat_show_alternatives: 'Yes, Show Alternatives',
        chat_opening_form: '✅ Opening application form for you!',
        chat_error: 'Sorry, I encountered an error. Please try again or use the quick action buttons above.',

        // Backend message translations
        backend_connection_feasible: 'Connection feasible. Sufficient capacity available.',
        backend_grid_expansion: 'Grid expansion required.',
        backend_exceeds_capacity: 'exceeds available capacity of',
        backend_submit_standard: 'Submit standard connection application online.',
        backend_contact_planning: 'Contact Grid Planning for expansion assessment.',
        backend_low_voltage_standard: 'Low Voltage (Standard)',
        backend_medium_voltage: 'Medium Voltage',
        backend_high_voltage: 'High Voltage',
    },
    de: {
        // Hero
        hero_title: 'Elektrifizierung Heilbronn',
        hero_subtitle: 'Intelligente Netzempfehlungen für nachhaltiges Leben',

        // InputCard
        input_address: 'Adresse',
        input_address_placeholder: 'Adresse in Heilbronn eingeben...',
        input_searching: 'Suche läuft...',
        input_no_results: 'Keine Adressen gefunden. Versuchen Sie eine andere Suche.',
        input_no_heilbronn: 'Keine Ergebnisse im Heilbronner Gebiet gefunden',
        input_search_error: 'Adresssuche nicht möglich. Bitte versuchen Sie es erneut.',
        input_connection_type: 'Anschlussart',
        input_consumer: 'Verbraucher',
        input_consumer_desc: 'E-Auto, Wärmepumpe',
        input_producer: 'Erzeuger',
        input_producer_desc: 'Solar-PV',
        input_power: 'Erwartete Leistung (kW)',
        input_power_hint: 'z.B. 11 kW für Heim-Ladestation',
        input_power_placeholder: 'z.B. 11, 50, 200',
        input_button: 'Öko-Empfehlungen erhalten',

        // LayersMenu
        layers_title: 'Spannungsebenen',
        layers_lv: 'Niederspannung (NS)',
        layers_mv: 'Mittelspannung (MS)',
        layers_hv: 'Hochspannung (HS)',

        // ResultCard
        result_timeline: 'Zeitplan',
        result_unknown: 'Unbekannt',
        result_voltage: 'Spannungsebene',
        result_low_voltage: 'Niederspannung',
        result_next_steps: 'Nächste Schritte',
        result_contact_support: 'Support kontaktieren',
        result_eco_score: 'Umweltfreundlichkeits-Score',

        // OverlayMenu
        overlay_loading: 'Netzkapazität wird analysiert...',
        overlay_error: 'Fehler',
        overlay_chat: 'Chat mit KI-Assistent',

        // ApplicationModal
        modal_title: 'Netzanschluss-Antrag',
        modal_success_title: 'Antrag gesendet!',
        modal_success_message: 'Wir haben Ihre Anfrage erhalten und werden uns in Kürze bei Ihnen melden.',
        modal_address: 'Adresse',
        modal_power: 'Leistung',
        modal_name: 'Vollständiger Name',
        modal_name_placeholder: 'Max Mustermann',
        modal_email: 'E-Mail',
        modal_email_placeholder: 'max@beispiel.de',
        modal_phone: 'Telefon',
        modal_phone_placeholder: '+49 123...',
        modal_comments: 'Kommentare (Optional)',
        modal_comments_placeholder: 'Spezifische Details zu Ihrem Projekt...',
        modal_sending: 'Wird gesendet...',
        modal_submit: 'Antrag absenden',

        // ChatBot
        chat_placeholder: 'Fragen Sie mich etwas...',
        chat_send: 'Nachricht senden',
        chat_helper: 'Fragen zu Zeitplan, Kosten, Dokumenten oder nächsten Schritten',
        chat_apply_now: 'Jetzt bewerben',
        chat_green_suggestions: 'Grüne Vorschläge',
        chat_show_alternatives: 'Ja, Alternativen zeigen',
        chat_opening_form: '✅ Antragsformular wird geöffnet!',
        chat_error: 'Entschuldigung, es ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut oder verwenden Sie die Schnellaktions-Buttons oben.',

        // Backend message translations
        backend_connection_feasible: 'Anschluss machbar. Ausreichende Kapazität verfügbar.',
        backend_grid_expansion: 'Netzerweiterung erforderlich.',
        backend_exceeds_capacity: 'überschreitet verfügbare Kapazität von',
        backend_submit_standard: 'Standard-Anschlussantrag online einreichen.',
        backend_contact_planning: 'Kontaktieren Sie die Netzplanung für Erweiterungsbewertung.',
        backend_low_voltage_standard: 'Niederspannung (Standard)',
        backend_medium_voltage: 'Mittelspannung',
        backend_high_voltage: 'Hochspannung',
    }
};

export const translateBackendText = (text, lang) => {
    if (!text || lang === 'en') return text;
    
    // Map of English backend messages to translation keys
    const messageMap = {
        'Connection feasible. Sufficient capacity available.': 'backend_connection_feasible',
        'Grid expansion required.': 'backend_grid_expansion',
        'Submit standard connection application online.': 'backend_submit_standard',
        'Contact Grid Planning for expansion assessment.': 'backend_contact_planning',
        'Low Voltage (Standard)': 'backend_low_voltage_standard',
        'Niederspannung (Standard)': 'backend_low_voltage_standard',
        'Medium Voltage': 'backend_medium_voltage',
        'Mittelspannung': 'backend_medium_voltage',
        'High Voltage': 'backend_high_voltage',
        'Hochspannung': 'backend_high_voltage',
    };
    
    // Check for exact matches first
    if (messageMap[text]) {
        return getTranslation(lang, messageMap[text]);
    }
    
    // Handle complex messages with dynamic content
    if (text.includes('exceeds available capacity')) {
        const parts = text.split('exceeds available capacity of');
        if (parts.length === 2) {
            const prefix = parts[0].trim();
            const suffix = parts[1].trim();
            return `${getTranslation(lang, 'backend_grid_expansion')} ${prefix} ${getTranslation(lang, 'backend_exceeds_capacity')} ${suffix}`;
        }
    }
    
    return text;
};

export const getTranslation = (lang, key) => {
    return translations[lang]?.[key] || translations.en[key] || key;
};
